<html>

<head>
    <title>云存档</title>
    <link rel="stylesheet" href="main.css">
    <script src="app.js"></script>
</head>

<body bgcolor="white">
    <div class="all-wrapper">
        <h1>回退</h1>
        <div class="form-wrapper">
            <script>
                function setActionAddr(form) {
                    var select = form.getElementsByTagName("select")[0];
                    var uri = select.options[select.selectedIndex].value;
                    // window.alert(document.getElementById("gameaddr").value)
                    form.action="http://"+document.getElementById("addr").value+uri;
                    // window.alert(form.action)
                }
            </script>
            <form action="" method="get" onsubmit="setActionAddr(this)">
                <label>操作类型:</label>
                <select>
                    <option value="/save_backup">存档回退</option>
                </select>
                <label>平台名:</label>
                <select name="pf_id">
                    {{range .PfidSave}}<option value="{{.K}}">{{.V}}</option>
                    {{end}}
                </select>
                <label title="我们自己约定的操作权限密码，一般不会变">权限密码:</label>
                <input type="password" name="passwd"><br>
                <label title="玩家所在svr_save地址，端口一般是7090">存档服:</label>
                <input type="text" id="addr" placeholder="存档服地址,端口7090"><br>
                <label title="账号id，或渠道uuid">uid:</label>
                <input type="text" name="uid" placeholder="账号id，或渠道uuid"><br>
                <label title="查询备份文件，结果的日期部分">备份名称:</label>
                <input type="text" name="filename" placeholder="20190722_120302.save"><br>
                <br>
                <input type="submit" value="确认">
            </form>
        </div>
    </div>
</body>

</html>